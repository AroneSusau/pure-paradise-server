{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/app/character/Character.ts","webpack:///./src/app/character/concrete/Player.ts","webpack:///./src/app/character/inventory/Inventory.ts","webpack:///./src/app/character/meta/BattleMeta.ts","webpack:///./src/app/character/meta/EventMeta.ts","webpack:///./src/app/character/meta/InventoryMeta.ts","webpack:///./src/app/character/meta/MetaManager.ts","webpack:///./src/app/character/meta/ShopMeta.ts","webpack:///./src/app/character/meta/StatMeta.ts","webpack:///./src/app/character/point/Point.ts","webpack:///./src/app/character/point/PointManager.ts","webpack:///./src/app/defaults/AreaNames.ts","webpack:///./src/app/defaults/CharacterTypes.ts","webpack:///./src/app/defaults/Command.ts","webpack:///./src/app/defaults/Context.ts","webpack:///./src/app/defaults/Defaults.ts","webpack:///./src/app/defaults/InventoryContext.ts","webpack:///./src/app/defaults/ItemId.ts","webpack:///./src/app/defaults/MapIds.ts","webpack:///./src/app/defaults/RoomNames.ts","webpack:///./src/app/defaults/ShopContext.ts","webpack:///./src/app/dialog/DialogManager.ts","webpack:///./src/app/engine/Engine.ts","webpack:///./src/app/engine/concrete/BattleEngine.ts","webpack:///./src/app/engine/concrete/EventEngine.ts","webpack:///./src/app/engine/concrete/GameEngine.ts","webpack:///./src/app/engine/concrete/InventoryEngine.ts","webpack:///./src/app/engine/concrete/MapEngine.ts","webpack:///./src/app/engine/concrete/ShopEngine.ts","webpack:///./src/app/event/Event.ts","webpack:///./src/app/event/eventlist/GirlInVillageE01.ts","webpack:///./src/app/map/Bounds.ts","webpack:///./src/app/map/GameMap.ts","webpack:///./src/app/map/MapManager.ts","webpack:///./src/app/map/maps/PureParadiseMap.ts","webpack:///./src/app/map/maps/Silvos.ts","webpack:///./src/app/map/maps/Tirera.ts","webpack:///./src/app/map/maps/Venmark.ts","webpack:///./src/server/PureParadise.ts","webpack:///./src/server/managers/PlayerManager.ts","webpack:///./src/server/managers/RequestManager.ts","webpack:///./src/server/managers/RoomManager.ts","webpack:///./src/server/observer/Observer.ts","webpack:///./src/server/server.ts","webpack:///external \"express\"","webpack:///external \"http\"","webpack:///external \"socket.io\""],"names":[],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;AClFa;AACb,8CAA8C,cAAc;AAC5D,iBAAiB,mBAAO,CAAC,6DAAiB;AAC1C,kBAAkB,mBAAO,CAAC,yEAAuB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;;;;;;;;;;;;;ACnCa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,sDAAc;AACxC,oBAAoB,mBAAO,CAAC,oEAAqB;AACjD,qBAAqB,mBAAO,CAAC,wEAAuB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;;;;;;;;;;;;;AC3Da;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACpCa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACzBa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;;;;;;;;;;;;;ACxCa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;;;;;;;;;;;;;ACrCa;AACb,8CAA8C,cAAc;AAC5D,mBAAmB,mBAAO,CAAC,4DAAc;AACzC,kBAAkB,mBAAO,CAAC,0DAAa;AACvC,iBAAiB,mBAAO,CAAC,wDAAY;AACrC,sBAAsB,mBAAO,CAAC,kEAAiB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;;;;;;;;;;;;;ACrDa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACVa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;;;;;;;;;;;;;AC7Ea;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;AC/Da;AACb,8CAA8C,cAAc;AAC5D,cAAc,mBAAO,CAAC,mDAAS;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;AClCa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,0DAA0D;;;;;;;;;;;;;ACT9C;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA,CAAC,yEAAyE;;;;;;;;;;;;;ACP7D;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,oDAAoD;;;;;;;;;;;;;ACbxC;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,oDAAoD;;;;;;;;;;;;;ACVxC;AACb,8CAA8C,cAAc;AAC5D,gBAAgB,mBAAO,CAAC,gDAAW;AACnC,yBAAyB,mBAAO,CAAC,kEAAoB;AACrD,eAAe,mBAAO,CAAC,8CAAU;AACjC,kBAAkB,mBAAO,CAAC,oDAAa;AACvC,oBAAoB,mBAAO,CAAC,wDAAe;AAC3C,eAAe,mBAAO,CAAC,8CAAU;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACjEa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA,CAAC,+EAA+E;;;;;;;;;;;;;ACPnE;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,iDAAiD;;;;;;;;;;;;;ACrBrC;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,iDAAiD;;;;;;;;;;;;;ACRrC;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,0DAA0D;;;;;;;;;;;;;ACf9C;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,gEAAgE;;;;;;;;;;;;;ACRpD;AACb,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,8DAAuB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sFAAsF;AACtF;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACxEa;AACb,8CAA8C,cAAc;AAC5D,sBAAsB,mBAAO,CAAC,kEAAyB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACjBa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D,eAAe,mBAAO,CAAC,6CAAW;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACzBa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D,eAAe,mBAAO,CAAC,6CAAW;AAClC,mBAAmB,mBAAO,CAAC,yDAAsB;AACjD,gBAAgB,mBAAO,CAAC,6DAAwB;AAChD,kBAAkB,mBAAO,CAAC,iEAA0B;AACpD,eAAe,mBAAO,CAAC,2DAAuB;AAC9C,yBAAyB,mBAAO,CAAC,6FAAwC;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;AClLa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D,qBAAqB,mBAAO,CAAC,iEAAgB;AAC7C,kBAAkB,mBAAO,CAAC,2DAAa;AACvC,oBAAoB,mBAAO,CAAC,+DAAe;AAC3C,gBAAgB,mBAAO,CAAC,6DAAwB;AAChD,mBAAmB,mBAAO,CAAC,6DAAc;AACzC,wBAAwB,mBAAO,CAAC,uEAAmB;AACnD,eAAe,mBAAO,CAAC,6CAAW;AAClC,gBAAgB,mBAAO,CAAC,6DAAwB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACjFa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D,eAAe,mBAAO,CAAC,6CAAW;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACzBa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D,eAAe,mBAAO,CAAC,6CAAW;AAClC,gBAAgB,mBAAO,CAAC,6DAAwB;AAChD,mBAAmB,mBAAO,CAAC,yDAAsB;AACjD,uBAAuB,mBAAO,CAAC,2EAA+B;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,SAAS;AACT;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;AClMa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D,eAAe,mBAAO,CAAC,6CAAW;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACzBa;AACb,8CAA8C,cAAc;AAC5D,sBAAsB,mBAAO,CAAC,kEAAyB;AACvD,qBAAqB,mBAAO,CAAC,kFAAiC;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;AChEa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D,cAAc,mBAAO,CAAC,0CAAU;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;AC/Ca;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACzEa;AACb,8CAA8C,cAAc;AAC5D,eAAe,mBAAO,CAAC,yCAAU;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;AC5Da;AACb,8CAA8C,cAAc;AAC5D,gBAAgB,mBAAO,CAAC,qDAAgB;AACxC,eAAe,mBAAO,CAAC,mDAAe;AACtC,eAAe,mBAAO,CAAC,mDAAe;AACtC,wBAAwB,mBAAO,CAAC,qEAAwB;AACxD,iBAAiB,mBAAO,CAAC,4DAAsB;AAC/C,eAAe,mBAAO,CAAC,wDAAoB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AChBa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D,gBAAgB,mBAAO,CAAC,4CAAY;AACpC,kBAAkB,mBAAO,CAAC,iEAA0B;AACpD,cAAc,mBAAO,CAAC,uEAA6B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACnDa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D,gBAAgB,mBAAO,CAAC,4CAAY;AACpC,kBAAkB,mBAAO,CAAC,iEAA0B;AACpD,cAAc,mBAAO,CAAC,uEAA6B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACnDa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D,gBAAgB,mBAAO,CAAC,4CAAY;AACpC,kBAAkB,mBAAO,CAAC,iEAA0B;AACpD,cAAc,mBAAO,CAAC,uEAA6B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACnDa;AACb;AACA;AACA;AACA,cAAc,gBAAgB,sCAAsC,iBAAiB,EAAE;AACvF,6BAA6B,uDAAuD;AACpF;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D,gBAAgB,mBAAO,CAAC,4CAAY;AACpC,kBAAkB,mBAAO,CAAC,iEAA0B;AACpD,cAAc,mBAAO,CAAC,uEAA6B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACnDa;AACb,8CAA8C,cAAc;AAC5D,uBAAuB,mBAAO,CAAC,0EAA2B;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,sDAAsD,EAAE;AAC1G,oDAAoD,4CAA4C,EAAE;AAClG,+CAA+C,yCAAyC,EAAE;AAC1F,gDAAgD,mDAAmD,EAAE;AACrG;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACnBa;AACb,8CAA8C,cAAc;AAC5D,eAAe,mBAAO,CAAC,mFAAqC;AAC5D,iBAAiB,mBAAO,CAAC,mEAA6B;AACtD,uBAAuB,mBAAO,CAAC,+EAAmC;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACzDa;AACb,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,qEAA8B;AACxD,gBAAgB,mBAAO,CAAC,iEAA4B;AACpD,sBAAsB,mBAAO,CAAC,+DAAiB;AAC/C,iBAAiB,mBAAO,CAAC,+DAAsB;AAC/C,mBAAmB,mBAAO,CAAC,qFAAsC;AACjE,oBAAoB,mBAAO,CAAC,2DAAe;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;AC1Ga;AACb,8CAA8C,cAAc;AAC5D,kBAAkB,mBAAO,CAAC,qEAA8B;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,iFAAiF,kBAAkB,EAAE;AACrG;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACzCa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;AC3Ca;AACb,8CAA8C,cAAc;AAC5D,qBAAqB,mBAAO,CAAC,oDAAgB;AAC7C,cAAc,mBAAO,CAAC,wBAAS;AAC/B;AACA,WAAW,mBAAO,CAAC,kBAAM;AACzB;AACA,SAAS,mBAAO,CAAC,4BAAW;AAC5B;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,CAAC;AACD;AACA;AACA,CAAC;;;;;;;;;;;;ACvBD,oC;;;;;;;;;;;ACAA,iC;;;;;;;;;;;ACAA,sC","file":"server.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/server/server.ts\");\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar StatMeta_1 = require(\"./meta/StatMeta\");\nvar Inventory_1 = require(\"./inventory/Inventory\");\nvar Character = (function () {\n    function Character() {\n        this._stats = new StatMeta_1.StatMeta();\n        this._inventory = new Inventory_1.Inventory();\n    }\n    Object.defineProperty(Character.prototype, \"name\", {\n        get: function () {\n            return this._name;\n        },\n        set: function (value) {\n            this._name = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Character.prototype, \"stats\", {\n        get: function () {\n            return this._stats;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Character.prototype, \"inventory\", {\n        get: function () {\n            return this._inventory;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Character;\n}());\nexports.Character = Character;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Character_1 = require(\"../Character\");\nvar MetaManager_1 = require(\"../meta/MetaManager\");\nvar PointManager_1 = require(\"../point/PointManager\");\nvar Player = (function (_super) {\n    __extends(Player, _super);\n    function Player(id, room, defaults) {\n        var _this = _super.call(this) || this;\n        _this._id = id;\n        _this._room = room;\n        _this._meta = new MetaManager_1.MetaManager();\n        _this._location = new PointManager_1.PointManager();\n        defaults.applyPlayerDefaults(_this);\n        return _this;\n    }\n    Object.defineProperty(Player.prototype, \"room\", {\n        get: function () {\n            return this._room;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Player.prototype, \"meta\", {\n        get: function () {\n            return this._meta;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Player.prototype, \"location\", {\n        get: function () {\n            return this._location;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Player.prototype, \"id\", {\n        get: function () {\n            return this._id;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Player;\n}(Character_1.Character));\nexports.Player = Player;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Inventory = (function () {\n    function Inventory() {\n        this._items = new Map();\n    }\n    Inventory.prototype.itemQuantity = function (id) {\n        return this.hasItem(id) ? this._items.get(id) : 0;\n    };\n    Inventory.prototype.hasItem = function (id) {\n        return this._items.has(id);\n    };\n    Inventory.prototype.setItem = function (id, qty) {\n        this._items.set(id, qty);\n    };\n    Inventory.prototype.addItem = function (id) {\n        if (this.hasItem(id)) {\n            var currentQty = this._items.get(id);\n            this._items.set(id, currentQty + 1);\n        }\n        else\n            this._items.set(id, 1);\n        return this.itemQuantity(id);\n    };\n    Inventory.prototype.removeItem = function (id) {\n        if (this.hasItem(id)) {\n            var currentQty = this._items.get(id);\n            if (currentQty > 1) {\n                this._items.set(id, currentQty - 1);\n                return this.itemQuantity(id);\n            }\n        }\n        return 0;\n    };\n    return Inventory;\n}());\nexports.Inventory = Inventory;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BattleMeta = (function () {\n    function BattleMeta() {\n        this._monsterIds = new Array();\n    }\n    Object.defineProperty(BattleMeta.prototype, \"monsterCount\", {\n        get: function () {\n            return this._monsterCount;\n        },\n        set: function (value) {\n            this._monsterCount = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BattleMeta.prototype.updateMonsterIds = function (list) {\n        this._monsterIds = list;\n        this._monsterCount = list.length;\n    };\n    BattleMeta.prototype.getMonsterIds = function (index) {\n        return this._monsterIds[index];\n    };\n    return BattleMeta;\n}());\nexports.BattleMeta = BattleMeta;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EventMeta = (function () {\n    function EventMeta() {\n        this._score = new Map();\n    }\n    EventMeta.prototype.updateCode = function (id, stage) {\n        this._id = id;\n        this._stage = stage;\n        this._code = \"e\" + this._id + \"s\" + this._stage;\n    };\n    EventMeta.prototype.updateScore = function (id, score) {\n        this._score.set(id, score);\n    };\n    EventMeta.prototype.getScore = function (id) {\n        this._score.has(id) ? this._score.get(id) : 0;\n    };\n    Object.defineProperty(EventMeta.prototype, \"code\", {\n        get: function () {\n            return this._code;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventMeta.prototype, \"id\", {\n        get: function () {\n            return this._id;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EventMeta.prototype, \"stage\", {\n        get: function () {\n            return this._stage;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return EventMeta;\n}());\nexports.EventMeta = EventMeta;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar InventoryMeta = (function () {\n    function InventoryMeta() {\n    }\n    Object.defineProperty(InventoryMeta.prototype, \"weapon\", {\n        get: function () {\n            return this._weapon;\n        },\n        set: function (value) {\n            this._weapon = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(InventoryMeta.prototype, \"armour\", {\n        get: function () {\n            return this._armour;\n        },\n        set: function (value) {\n            this._armour = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(InventoryMeta.prototype, \"context\", {\n        get: function () {\n            return this._context;\n        },\n        set: function (value) {\n            this._context = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return InventoryMeta;\n}());\nexports.InventoryMeta = InventoryMeta;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BattleMeta_1 = require(\"./BattleMeta\");\nvar EventMeta_1 = require(\"./EventMeta\");\nvar ShopMeta_1 = require(\"./ShopMeta\");\nvar InventoryMeta_1 = require(\"./InventoryMeta\");\nvar MetaManager = (function () {\n    function MetaManager() {\n        this._battleMeta = new BattleMeta_1.BattleMeta();\n        this._eventMeta = new EventMeta_1.EventMeta();\n        this._shopMeta = new ShopMeta_1.ShopMeta();\n        this._inventoryMeta = new InventoryMeta_1.InventoryMeta();\n    }\n    Object.defineProperty(MetaManager.prototype, \"context\", {\n        get: function () {\n            return this._context;\n        },\n        set: function (value) {\n            this._context = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MetaManager.prototype, \"battleMeta\", {\n        get: function () {\n            return this._battleMeta;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MetaManager.prototype, \"shopMeta\", {\n        get: function () {\n            return this._shopMeta;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MetaManager.prototype, \"eventMeta\", {\n        get: function () {\n            return this._eventMeta;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MetaManager.prototype, \"inventoryMeta\", {\n        get: function () {\n            return this._inventoryMeta;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return MetaManager;\n}());\nexports.MetaManager = MetaManager;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ShopMeta = (function () {\n    function ShopMeta() {\n    }\n    ShopMeta.prototype.updateShopContext = function (context) {\n        this._context = context;\n    };\n    return ShopMeta;\n}());\nexports.ShopMeta = ShopMeta;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar StatMeta = (function () {\n    function StatMeta() {\n    }\n    Object.defineProperty(StatMeta.prototype, \"damage\", {\n        get: function () {\n            return this._damage;\n        },\n        set: function (value) {\n            this._damage = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StatMeta.prototype, \"isAlive\", {\n        get: function () {\n            return this._isAlive;\n        },\n        set: function (value) {\n            this._isAlive = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StatMeta.prototype, \"defence\", {\n        get: function () {\n            return this._defence;\n        },\n        set: function (value) {\n            this._defence = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StatMeta.prototype, \"health\", {\n        get: function () {\n            return this._health;\n        },\n        set: function (value) {\n            this._health = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StatMeta.prototype, \"hunger\", {\n        get: function () {\n            return this._hunger;\n        },\n        set: function (value) {\n            this._hunger = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StatMeta.prototype, \"thirst\", {\n        get: function () {\n            return this._thirst;\n        },\n        set: function (value) {\n            this._thirst = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StatMeta.prototype, \"money\", {\n        get: function () {\n            return this._money;\n        },\n        set: function (value) {\n            this._money = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return StatMeta;\n}());\nexports.StatMeta = StatMeta;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Point = (function () {\n    function Point() {\n    }\n    Object.defineProperty(Point.prototype, \"length\", {\n        get: function () {\n            return this._length;\n        },\n        set: function (value) {\n            this._length = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Point.prototype, \"index\", {\n        get: function () {\n            return this._index;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Point.prototype, \"y\", {\n        get: function () {\n            return this._y;\n        },\n        set: function (value) {\n            this._y = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Point.prototype, \"x\", {\n        get: function () {\n            return this._x;\n        },\n        set: function (value) {\n            this._x = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Point.prototype.incrementX = function () {\n        this._x += this._x < this._length - 1 ? 1 : 0;\n        this.updateIndex();\n    };\n    Point.prototype.decremementX = function () {\n        this._x -= this._x > 0 ? 1 : 0;\n        this.updateIndex();\n    };\n    Point.prototype.incrementY = function () {\n        this._y += this._y < this._length - 1 ? 1 : 0;\n        this.updateIndex();\n    };\n    Point.prototype.decremementY = function () {\n        this._y -= this._y > 0 ? 1 : 0;\n        this.updateIndex();\n    };\n    Point.prototype.updateIndex = function () {\n        this._index = (this._y * this._length) + this._x;\n    };\n    return Point;\n}());\nexports.Point = Point;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Point_1 = require(\"./Point\");\nvar PointManager = (function () {\n    function PointManager() {\n        this._local = new Point_1.Point();\n        this._global = new Point_1.Point();\n    }\n    Object.defineProperty(PointManager.prototype, \"local\", {\n        get: function () {\n            return this._local;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PointManager.prototype, \"global\", {\n        get: function () {\n            return this._global;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PointManager.prototype.updateLocalPosition = function (x, y) {\n        this._local.x = x;\n        this._local.y = y;\n        this._local.updateIndex();\n    };\n    PointManager.prototype.updateGlobalPosition = function (x, y) {\n        this._global.x = x;\n        this._global.y = y;\n        this._global.updateIndex();\n    };\n    return PointManager;\n}());\nexports.PointManager = PointManager;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar AreaNames;\n(function (AreaNames) {\n    AreaNames[\"SILVOS\"] = \"Silvos\";\n    AreaNames[\"TIRERA\"] = \"Tirera\";\n    AreaNames[\"VENMARK\"] = \"Venmark\";\n    AreaNames[\"NEW_TRETHAM\"] = \"New Tretham\";\n    AreaNames[\"PURE_PARADISE\"] = \"Pure Paradise\";\n})(AreaNames = exports.AreaNames || (exports.AreaNames = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CharacterTypes;\n(function (CharacterTypes) {\n    CharacterTypes[CharacterTypes[\"PLAYER\"] = 0] = \"PLAYER\";\n    CharacterTypes[CharacterTypes[\"MONSTER\"] = 1] = \"MONSTER\";\n    CharacterTypes[CharacterTypes[\"OTHER\"] = 2] = \"OTHER\";\n})(CharacterTypes = exports.CharacterTypes || (exports.CharacterTypes = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Command;\n(function (Command) {\n    Command[\"W\"] = \"w\";\n    Command[\"A\"] = \"a\";\n    Command[\"S\"] = \"s\";\n    Command[\"D\"] = \"d\";\n    Command[\"INV\"] = \"inv\";\n    Command[\"FIGHT\"] = \"fight\";\n    Command[\"RUN\"] = \"run\";\n    Command[\"BUY\"] = \"buy\";\n    Command[\"SELL\"] = \"sell\";\n})(Command = exports.Command || (exports.Command = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Context;\n(function (Context) {\n    Context[Context[\"FREE_ROAM\"] = 0] = \"FREE_ROAM\";\n    Context[Context[\"EVENT\"] = 1] = \"EVENT\";\n    Context[Context[\"BATTLE\"] = 2] = \"BATTLE\";\n    Context[Context[\"SHOP\"] = 3] = \"SHOP\";\n    Context[Context[\"INVENTORY\"] = 4] = \"INVENTORY\";\n    Context[Context[\"START\"] = 5] = \"START\";\n})(Context = exports.Context || (exports.Context = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Context_1 = require(\"./Context\");\nvar InventoryContext_1 = require(\"./InventoryContext\");\nvar ItemId_1 = require(\"./ItemId\");\nvar AreaNames_1 = require(\"./AreaNames\");\nvar ShopContext_1 = require(\"./ShopContext\");\nvar MapIds_1 = require(\"./MapIds\");\nvar Defaults = (function () {\n    function Defaults() {\n        this.localMapLength = 20;\n        this.globalMapLength = 2;\n    }\n    Defaults.prototype.applyPlayerDefaults = function (player) {\n        player.stats.health = 100;\n        player.stats.hunger = 100;\n        player.stats.thirst = 100;\n        player.stats.money = 250;\n        player.location.local.length = this.localMapLength;\n        player.location.global.length = this.globalMapLength;\n        player.location.updateLocalPosition(10, 10);\n        player.location.updateGlobalPosition(0, 0);\n        player.meta.context = Context_1.Context.START;\n        player.meta.inventoryMeta.context = InventoryContext_1.InventoryContext.CLOSED;\n        player.meta.inventoryMeta.weapon = ItemId_1.ItemId.FISTS;\n        player.meta.battleMeta.monsterCount = 0;\n        player.meta.eventMeta.updateCode(0, 0);\n        player.meta.shopMeta.updateShopContext(ShopContext_1.ShopContext.EXITED);\n        player.inventory.setItem(ItemId_1.ItemId.BEEF, 1);\n        player.inventory.setItem(ItemId_1.ItemId.APPLE, 3);\n        player.inventory.setItem(ItemId_1.ItemId.WATER, 7);\n        player.inventory.setItem(ItemId_1.ItemId.RUSTED_RAZOR, 1);\n        player.inventory.setItem(ItemId_1.ItemId.CLOTH_CLOTHING, 1);\n    };\n    Defaults.prototype.applyMonsterDefaults = function (player) {\n    };\n    Defaults.prototype.applyShopKeeperDefaults = function (player) {\n    };\n    Defaults.prototype.applyMapDefaults = function (map) {\n        switch (map.name) {\n            case AreaNames_1.AreaNames.VENMARK:\n                this.mapDefaults(map, 0, 0, MapIds_1.MapIds.VEMARK);\n                break;\n            case AreaNames_1.AreaNames.SILVOS:\n                this.mapDefaults(map, 1, 0, MapIds_1.MapIds.SILVOS);\n                break;\n            case AreaNames_1.AreaNames.TIRERA:\n                this.mapDefaults(map, 0, 1, MapIds_1.MapIds.TIRERA);\n                break;\n            case AreaNames_1.AreaNames.PURE_PARADISE:\n                this.mapDefaults(map, 1, 1, MapIds_1.MapIds.PURE_PARADISE);\n                break;\n        }\n    };\n    Defaults.prototype.mapDefaults = function (map, x, y, id) {\n        map.coords.x = x;\n        map.coords.y = y;\n        map.coords.length = this.globalMapLength;\n        map.localLength = this.localMapLength;\n        map.id = id;\n        map.coords.updateIndex();\n        map.generateBounds();\n    };\n    return Defaults;\n}());\nexports.Defaults = Defaults;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar InventoryContext;\n(function (InventoryContext) {\n    InventoryContext[InventoryContext[\"OPENED\"] = 0] = \"OPENED\";\n    InventoryContext[InventoryContext[\"USING\"] = 1] = \"USING\";\n    InventoryContext[InventoryContext[\"CLOSED\"] = 2] = \"CLOSED\";\n})(InventoryContext = exports.InventoryContext || (exports.InventoryContext = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ItemId;\n(function (ItemId) {\n    ItemId[ItemId[\"APPLE\"] = 0] = \"APPLE\";\n    ItemId[ItemId[\"BEEF\"] = 1] = \"BEEF\";\n    ItemId[ItemId[\"DONUT\"] = 2] = \"DONUT\";\n    ItemId[ItemId[\"HAMBURGER\"] = 3] = \"HAMBURGER\";\n    ItemId[ItemId[\"FLESH\"] = 4] = \"FLESH\";\n    ItemId[ItemId[\"PEANUTS\"] = 5] = \"PEANUTS\";\n    ItemId[ItemId[\"PIE\"] = 6] = \"PIE\";\n    ItemId[ItemId[\"WATER\"] = 7] = \"WATER\";\n    ItemId[ItemId[\"RUSTED_RAZOR\"] = 8] = \"RUSTED_RAZOR\";\n    ItemId[ItemId[\"KNIFE\"] = 9] = \"KNIFE\";\n    ItemId[ItemId[\"WOODEN_SWORD\"] = 10] = \"WOODEN_SWORD\";\n    ItemId[ItemId[\"DRACONIC_SWORD\"] = 11] = \"DRACONIC_SWORD\";\n    ItemId[ItemId[\"WOODEN_SHIELD\"] = 12] = \"WOODEN_SHIELD\";\n    ItemId[ItemId[\"DRACONIC_SHIELD\"] = 13] = \"DRACONIC_SHIELD\";\n    ItemId[ItemId[\"CHOCOLATE_SWORD\"] = 14] = \"CHOCOLATE_SWORD\";\n    ItemId[ItemId[\"FISTS\"] = 15] = \"FISTS\";\n    ItemId[ItemId[\"CLOTH_CLOTHING\"] = 16] = \"CLOTH_CLOTHING\";\n})(ItemId = exports.ItemId || (exports.ItemId = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MapIds;\n(function (MapIds) {\n    MapIds[MapIds[\"VEMARK\"] = 0] = \"VEMARK\";\n    MapIds[MapIds[\"SILVOS\"] = 1] = \"SILVOS\";\n    MapIds[MapIds[\"TIRERA\"] = 2] = \"TIRERA\";\n    MapIds[MapIds[\"PURE_PARADISE\"] = 3] = \"PURE_PARADISE\";\n})(MapIds = exports.MapIds || (exports.MapIds = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RoomNames;\n(function (RoomNames) {\n    RoomNames[\"ALPHA\"] = \"ALPHA\";\n    RoomNames[\"BETA\"] = \"ALPHA\";\n    RoomNames[\"CHARLIE\"] = \"ALPHA\";\n    RoomNames[\"DELTA\"] = \"ALPHA\";\n    RoomNames[\"ECHO\"] = \"ALPHA\";\n    RoomNames[\"FOXTROT\"] = \"ALPHA\";\n    RoomNames[\"GOLF\"] = \"ALPHA\";\n    RoomNames[\"HOTEL\"] = \"ALPHA\";\n    RoomNames[\"INDIA\"] = \"ALPHA\";\n    RoomNames[\"JULIET\"] = \"ALPHA\";\n    RoomNames[\"FULL\"] = \"FULL\";\n})(RoomNames = exports.RoomNames || (exports.RoomNames = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ShopContext;\n(function (ShopContext) {\n    ShopContext[ShopContext[\"BUYING\"] = 0] = \"BUYING\";\n    ShopContext[ShopContext[\"SELLING\"] = 1] = \"SELLING\";\n    ShopContext[ShopContext[\"ARRIVED\"] = 2] = \"ARRIVED\";\n    ShopContext[ShopContext[\"EXITED\"] = 3] = \"EXITED\";\n})(ShopContext = exports.ShopContext || (exports.ShopContext = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar AreaNames_1 = require(\"../defaults/AreaNames\");\nvar DialogManager = (function () {\n    function DialogManager() {\n    }\n    DialogManager.prototype['e0s0'] = function (player) {\n        var playerName = player.name;\n        return \"It has been 3 weeks since the monsters struck. \" + playerName + \" has been warding off attacks in \" + AreaNames_1.AreaNames.VENMARK + \" for far too long, and must embark on a journey into the wilderness for more supplies to reach their final point, \" + AreaNames_1.AreaNames.PURE_PARADISE + \".<br><br>Guide \" + playerName + \" through the cities of \" + AreaNames_1.AreaNames.NEW_TRETHAM + \" as you face hordes of the monsters restlessly aiming to stop you on your journey. In order to aid your crusade, \" + playerName + \" is capable of visiting a general store and spending money in order to purchase food and hydration for the journey ahead. In addition to this, the monsters you will face may drop items that will aid you in your journey once slain.<br><br>\" + playerName + \" must visit the village elders of the towns \" + AreaNames_1.AreaNames.SILVOS + \" and \" + AreaNames_1.AreaNames.TIRERA + \" in order to gain access to the final land, free of all impurities and monsters, \" + AreaNames_1.AreaNames.PURE_PARADISE + \".<br><br>And remember! When your hunger and thirst fall below 50, your damage and defence will weaken!\";\n    };\n    DialogManager.prototype['e1s0'] = function (player) {\n        return \"You approach what was supposed to be the Village of \" + AreaNames_1.AreaNames.SILVOS + \" but all you see is rubble and a burning mess of buildings all around you. In times such as these it is not an uncommon sight for entire villages to be destroyed by the Monsters, they come in the night without warning and destroy everything without a second thought.<br><br>You hear a small scream from a far, and then you realise that it is the cry of a young child.<br><br>Do you go to help the child or leave them to fend for themselves?<br><br>help / run\";\n    };\n    DialogManager.prototype['e1s1'] = function (player) {\n        return \"You dash around the corner and hear the screams growing louder and louder.. closer.. and closer.. until you\\n        turn the corner from the town square only to see that it is filled with a sea of monsters. EVERYWHERE THEY CRAWL.\\n        You tremble before them as one by one they begin to notice your presence.. But you can see the young girl in the\\n        distance hanging on to a large tree in the middle of the town square, screaming, as the monsters claw their way up\\n        to her.<br><br>If you choose to fight this might not end too well for you..<br><br>Do you fight or run?<br><br>fight / run\";\n    };\n    DialogManager.prototype['e1s2'] = function (player) {\n        return \"Clenching your \" + player.meta.inventoryMeta.weapon + \" you take a deep breath.. Calming your nerves.. There is one way forward and now with all the monsters attention squarely on you there is no way back. You swing your \" + player.meta.inventoryMeta.weapon + \" side to side cutting down one monster after the other.. Being pushed back with the occasional claw from one of the monsters, yet you push on, digging down deep into your warrior spirit, holding onto the memories of times before..<br><br>The screams of the monsters die down, one after another..<br><br>Until finally, there are no more left..<br><br>You look all around you, seeing the carnage you have left behind and begin to feel the pain from all the attacks.<br><br>The young girl stagger down the tree with a slight limp as she reaches the bottom and begins steadying her footing. She stares directly into your eyes but you notice that something isn't right..<br><br>The young girl starts walking towards you.. Running.. What? Running towards you.. You stumble your way up but are dazed by the attacks, you can't tell if she is holding a weapon or not but she is coming at you full force.<br><br>Do you raise your weapon and strike before she gets to you or do you hold still until you can see clearer?<br><br>wait / strike\";\n    };\n    DialogManager.prototype['e1s3'] = function (player) {\n        return \"You hold your nerves steady to get a clearer picture.. she gets closer and BAM.. She flies onto you biting your neck and clawing your back. The girl IS A MONSTER, you hear her screech and wail as the beast morphs from a young girl into a Werewolf. You reach around your back and rip the thing from you, pulling out your \" + player.meta.inventoryMeta.weapon + \" and striking the Werewolf with one swift blow, tearing its head from its shoulders.<br><br>Argh, all this effort for this thing you think to yourself..<br><br>Well even though nothing came of this, the eyes from Pure Paradise are always watching.. and they will take notice of your heroic acts in the face of the unknown.\";\n    };\n    DialogManager.prototype['e1s4'] = function (player) {\n        return \"You cannot hesitate in situations like this and pull your \" + player.meta.inventoryMeta.weapon + \" and STRIKE HER DOWN. Starring at her young body you can't help but wonder what was she thinking? You had no other choice.. There was nothing you could have done, but still.. you have taken the life of a child, and that lives with you forever, even in Pure Paradise.\";\n    };\n    DialogManager.prototype['e1s5'] = function (player) {\n        return \"Catch a hero flying straight into that mess, at least no one will know of your cowardliness because there was no one to see it.. right?\";\n    };\n    DialogManager.prototype['e1s6'] = function (player) {\n        return \"Saving everyone isn't your problem, besides you've got better things to do with your time than protect a helpless child.\";\n    };\n    DialogManager.prototype['e2s0'] = function (player) {\n        return \"Walking towards \" + AreaNames_1.AreaNames.TIRERA + \" with the hope of grabbing a glimpse of the magnificent city. Growing up you always heard the stories of their mighty warriors and noble Elders, towers as high as the clouds and mighty beasts tamed for the protection of the city and its people.<br><br>As you draw nearer you notice smoke in the sky and more and more bodies before you, both human and monster.. You can only begin to imagine what horrors took place. And it all seems fresh? You see one solider crawling on the ground in the battlefield with half his torso torn off. Some what in shock you run up to him to try to help in some way..<br><br>ARRRGHHHHHH... monsters.. they attacked... they're heading for.. \" + AreaNames_1.AreaNames.SILVOS + \".. tried to stop them.. Please.. Kill me..<br><br>Do you take the sliders life or carry on, leaving him as he is?<br><br>kill / leave\";\n    };\n    DialogManager.prototype['e2s1'] = function (player) {\n        return \"WHAT HAVE YOU DONE!! Turning around you see another group of soldiers approaching but you can see how this current situations may appear to be misleading for anyone stumbling upon you.<br><br>Covered in the solider's blood that you had just helped innocently kill, you try to plead with the so approaching\\n        men but they don't seem to want to listen..<br><br>ARHHH WE'LL KILL YOU FOR THIS!<br><br>Do you fight the soldiers or try to convince them you were helping ease the killed soldiers pain?<br><br>fight / convince\";\n    };\n    DialogManager.prototype['e2s2'] = function (player) {\n        return \"Sensing that there is no stopping these men from their blood raged enchantment, you draw your \" + player.meta.inventoryMeta.weapon + \" and begin to defend yourself.. <br>One after another they fall to your overwhelming power and strength, the screams from the men can be\\n                heard from miles around.<br><br>The last man standing there.. Quivering before you, not as strong and valiant as he was moments before\\n                attacking you..<br><br>Ha you think to yourself, you could squash him in an instant, or do you spare his life?<br><br>squash / spare\";\n    };\n    DialogManager.prototype['e2s3'] = function (player) {\n        return \"You cackle like a mad man, before starring into the remaining soldiers eyes, you see him tremble before you as he realises that this is the end for him.. He begs and pleads for his life but you laugh and drive your \" + player.meta.inventoryMeta.weapon + \" through his chest, tearing out his heart.<br><br>Bodies lay everywhere and you've added one more to the pile, oh well.. just one more misfit to blend in with the monsters mess.\";\n    };\n    DialogManager.prototype['e2s4'] = function (player) {\n        return \"Pft you exhale and explain what had happened, the solider in front of you confused as he thought this was the end of himself.So we.. all died for nothing? For.. Nothing..<br><br>CRACK..<br><br>In a moment before you had a chance to make a move the solider plunged his own sword through his skull. Taking his own life.<br><br>You gather yourself together and keep moving forward until you finally see the wreckage that is \" + AreaNames_1.AreaNames.TIRERA + \".. Oh well, I guess you couldn't have hoped for much else in a time like this I suppose.\";\n    };\n    DialogManager.prototype['e2s5'] = function (player) {\n        return \"The men continue to rush towards you as you plead with them that you were only meaning to help the solider you had found on the road..<br><br>WHACK.. Out.<br><br>You awake, beaten half to death.. but still alive.. you gather yourself together and keep moving forward until you finally see the wreckage that is \" + AreaNames_1.AreaNames.TIRERA + \".. Oh well, I guess you couldn't have hoped for much else in a time like this I suppose.\";\n    };\n    DialogManager.prototype['e2s6'] = function (player) {\n        return \"You decide this solider isn't worth your time or blade and leave him as he is.. Walking forward you notice another group of soldiers..<br><br>HALT.. Oh, its just another Trethamian. Did you have any trouble making your way through?<br><br>You make a shrugging movement, somewhat uninterested in their small talk and ask for the directions towards \" + AreaNames_1.AreaNames.TIRERA + \".<br><br>They all turn to each other and laugh.. \" + AreaNames_1.AreaNames.TIRERA + \" is no more my friend, it was overrun by the monsters long ago, but we managed to clear them out and push them back to \" + AreaNames_1.AreaNames.SILVOS + \" to deal with. We're heading to Pure Paradise in hope to get a good spot in the city to finally relax from these wretched creatures.<br><br>Well isn't this a waste of your time, the city is destroyed and there is nothing to go to.. I guess you could make some fun out of this still?<br><br>Do you attack the remaining soldiers and tear them all apart for fun or humanely leave?<br><br>attack / leave\";\n    };\n    DialogManager.prototype['e2s7'] = function (player) {\n        return \"Well I guess there was nothing better to do than attack a group of soldiers before they had a chance to react. You pull out you \" + player.meta.inventoryMeta.weapon + \" and cut them down, one by one.. Until no more remain.. It was fun while it lasted I suppose..<br><br>Off to the next city!\";\n    };\n    DialogManager.prototype['e2s8'] = function (player) {\n        return \"You decide you've had enough psychotic episodes for one day and walk away, slightly unhinged by all the human and monster bodies laying around you.\";\n    };\n    DialogManager.prototype['e3s0'] = function (player) {\n        return \"We have been waiting for you \" + player.name + \".. We have been watching you this entire time.. We see, everything. Know, everything.. Do not think that there isn't a single thing that you have done that we have not seen. That we do not know. Our land of Pure Paradise, we only only the best of people in.. Are you one of them?\";\n    };\n    DialogManager.prototype['e3s1'] = function (player) {\n        return \"You've done some bad things.. You've done some pretty bad things.. But you're not the worst we've seen.. Hmm we have a spot for\\n        people just like you.. For all the bad deeds you've committed we sentence you to 2 years of cleaning the city sewerage systems.\\n        It may never clear the atrocities that you have committed but at least you have something to atone for the crimes you have\\n        committed.\";\n    };\n    DialogManager.prototype['e3s2'] = function (player) {\n        return \"We have watched you.. and we have seen your acts of kindness and bravery, even in the face of the unknown. We have heard all the\\n        great things you have done for the villages and have witness your mercy and honour. You are a noble person \" + player.name + \" and we would\\n        gladly take you in as one of our own.. you are a hero amongst heroes.. You are given one of highest honours, one of our special leagues.\\n\\n        Welcome, to becoming apart of Pure Paradise.\\n\\n        This is what you've traveled so far and fought so hard for.. you are truly the hero of this story.. Thank you!\";\n    };\n    DialogManager.prototype['e3s3'] = function (player) {\n        return \"The End.<br><br>Thank you for playing.<br><br>Arone Tie Susau 2020\\\");\";\n    };\n    return DialogManager;\n}());\nexports.DialogManager = DialogManager;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar DialogManager_1 = require(\"../dialog/DialogManager\");\nvar Engine = (function () {\n    function Engine(observer) {\n        this._observer = observer;\n        this.dialogManager = new DialogManager_1.DialogManager();\n    }\n    Engine.prototype.invalidAction = function (cmd, player, socket) {\n        this._observer.invalidCommand({\n            id: player.id,\n            type: 1,\n            message: 'Invalid action entered, please try again.'\n        }, socket);\n    };\n    return Engine;\n}());\nexports.Engine = Engine;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Engine_1 = require(\"../Engine\");\nvar BattleEngine = (function (_super) {\n    __extends(BattleEngine, _super);\n    function BattleEngine() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BattleEngine.prototype.action = function (cmd, player, socket) {\n    };\n    return BattleEngine;\n}(Engine_1.Engine));\nexports.BattleEngine = BattleEngine;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Engine_1 = require(\"../Engine\");\nvar MapManager_1 = require(\"../../map/MapManager\");\nvar Context_1 = require(\"../../defaults/Context\");\nvar AreaNames_1 = require(\"../../defaults/AreaNames\");\nvar MapIds_1 = require(\"../../defaults/MapIds\");\nvar GirlInVillageE01_1 = require(\"../../event/eventlist/GirlInVillageE01\");\nvar EventEngine = (function (_super) {\n    __extends(EventEngine, _super);\n    function EventEngine(observer) {\n        var _this = _super.call(this, observer) || this;\n        _this.events = new Map();\n        _this.events.set(1, new GirlInVillageE01_1.GirlInVillageE01());\n        return _this;\n    }\n    EventEngine.prototype.start = function (cmd, player, socket) {\n        player.name = cmd;\n        player.meta.context = Context_1.Context.FREE_ROAM;\n        this._observer.notify({\n            id: player.id,\n            room: player.room,\n            flags: {\n                mapUpdate: true,\n                playerUpdate: true,\n                battleUpdate: false,\n                eventUpdate: false,\n                contextUpdate: true,\n                generalUpdate: true,\n                error: false\n            },\n            player: {\n                name: player.name,\n                context: Context_1.Context.FREE_ROAM,\n                flags: {\n                    inventoryUpdate: false,\n                    equippedUpdate: false,\n                    statsUpdate: false,\n                    coordsUpdate: true\n                },\n                coords: {\n                    local: player.location.local.index,\n                    global: player.location.global.index\n                }\n            },\n            general: {\n                text: this.dialogManager['e0s0'](player)\n            },\n            map: {\n                id: MapIds_1.MapIds.VEMARK,\n                name: AreaNames_1.AreaNames.VENMARK,\n                raw: MapManager_1.MapManager.maps.get(MapIds_1.MapIds.VEMARK).raw\n            }\n        }, socket);\n    };\n    EventEngine.prototype.action = function (cmd, player, socket) {\n        var eventId = player.meta.eventMeta.id;\n        var eventStage = player.meta.eventMeta.stage;\n        var eventCode = player.meta.eventMeta.code;\n        var event = this.events.get(eventId);\n        var options = event.options.get(eventCode);\n        var match = options.has(cmd);\n        if (match) {\n            var nextCode = options.get(cmd);\n            var nextStory = event.story(nextCode, player);\n            var nextOptions = event.options.get(nextCode);\n            var finished = event.isFinalStage(nextCode);\n            player.meta.eventMeta.updateCode(eventId, eventStage + 1);\n            if (finished) {\n                player.meta.context = Context_1.Context.FREE_ROAM;\n                player.location.local.incrementX();\n                player.location.local.incrementY();\n                player.meta.eventMeta.updateScore(eventId, eventStage);\n            }\n            this._observer.notify({\n                id: player.id,\n                room: player.room,\n                flags: {\n                    mapUpdate: false,\n                    playerUpdate: false,\n                    battleUpdate: false,\n                    eventUpdate: true,\n                    contextUpdate: finished,\n                    generalUpdate: false,\n                    error: false\n                },\n                event: {\n                    flags: {\n                        displayUpdate: false\n                    },\n                    name: event.name,\n                    story: nextStory,\n                    options: nextOptions,\n                },\n                player: {\n                    flags: {\n                        inventoryUpdate: false,\n                        equippedUpdate: false,\n                        statsUpdate: false,\n                        coordsUpdate: true\n                    },\n                    coords: {\n                        local: player.location.local.index,\n                        global: player.location.global.index\n                    },\n                    name: player.name,\n                    context: player.meta.context\n                }\n            }, socket);\n        }\n        else\n            this.invalidAction(cmd, player, socket);\n    };\n    EventEngine.prototype.onEventMove = function (player, socket) {\n        var _this = this;\n        this.events.forEach(function (event) {\n            var localMatch = player.location.local.index === event.location.local.index;\n            var globalMatch = player.location.global.index === event.location.global.index;\n            if (localMatch && globalMatch) {\n                player.meta.context = Context_1.Context.EVENT;\n                player.meta.eventMeta.updateCode(event.id, 0);\n                _this._observer.notify({\n                    id: player.id,\n                    room: player.room,\n                    flags: {\n                        mapUpdate: false,\n                        playerUpdate: true,\n                        battleUpdate: false,\n                        eventUpdate: true,\n                        contextUpdate: true,\n                        generalUpdate: true,\n                        error: false\n                    },\n                    general: {\n                        text: \"Event Started - \" + event.name\n                    },\n                    player: {\n                        flags: {\n                            inventoryUpdate: false,\n                            equippedUpdate: false,\n                            statsUpdate: false,\n                            coordsUpdate: true\n                        },\n                        coords: {\n                            local: player.location.local.index,\n                            global: player.location.global.index\n                        },\n                        name: player.name,\n                        context: player.meta.context\n                    },\n                    event: {\n                        flags: {\n                            displayUpdate: true\n                        },\n                        name: event.name,\n                        story: event.story(player.meta.eventMeta.code, player),\n                        options: event.options.get(player.meta.eventMeta.code),\n                        display: event.display\n                    }\n                }, socket);\n            }\n        });\n    };\n    return EventEngine;\n}(Engine_1.Engine));\nexports.EventEngine = EventEngine;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BattleEngine_1 = require(\"./BattleEngine\");\nvar MapEngine_1 = require(\"./MapEngine\");\nvar EventEngine_1 = require(\"./EventEngine\");\nvar Context_1 = require(\"../../defaults/Context\");\nvar ShopEngine_1 = require(\"./ShopEngine\");\nvar InventoryEngine_1 = require(\"./InventoryEngine\");\nvar Engine_1 = require(\"../Engine\");\nvar Command_1 = require(\"../../defaults/Command\");\nvar GameEngine = (function (_super) {\n    __extends(GameEngine, _super);\n    function GameEngine(observer) {\n        var _this = _super.call(this, observer) || this;\n        _this.battleEngine = new BattleEngine_1.BattleEngine(observer);\n        _this.mapEngine = new MapEngine_1.MapEngine(observer);\n        _this.eventEngine = new EventEngine_1.EventEngine(observer);\n        _this.shopEngine = new ShopEngine_1.ShopEngine(observer);\n        _this.inventoryEngine = new InventoryEngine_1.InventoryEngine(observer);\n        return _this;\n    }\n    GameEngine.prototype.run = function (cmd, player, socket) {\n        if (player.meta.context == Context_1.Context.START)\n            this.eventEngine.start(cmd, player, socket);\n        else {\n            switch (player.meta.context) {\n                case Context_1.Context.FREE_ROAM:\n                    this.action(cmd, player, socket);\n                    break;\n                case Context_1.Context.BATTLE:\n                    this.battleEngine.action(cmd, player, socket);\n                    break;\n                case Context_1.Context.EVENT:\n                    this.eventEngine.action(cmd, player, socket);\n                    break;\n                case Context_1.Context.SHOP:\n                    this.shopEngine.action(cmd, player, socket);\n                    break;\n                case Context_1.Context.INVENTORY:\n                    this.inventoryEngine.action(cmd, player, socket);\n                    break;\n            }\n        }\n    };\n    GameEngine.prototype.action = function (cmd, player, socket) {\n        switch (cmd) {\n            case Command_1.Command.W:\n                this.mapEngine.action(cmd, player, socket);\n                break;\n            case Command_1.Command.A:\n                this.mapEngine.action(cmd, player, socket);\n                break;\n            case Command_1.Command.S:\n                this.mapEngine.action(cmd, player, socket);\n                break;\n            case Command_1.Command.D:\n                this.mapEngine.action(cmd, player, socket);\n                break;\n            case Command_1.Command.INV:\n                this.inventoryEngine.action(cmd, player, socket);\n                break;\n            default:\n                this.invalidAction(cmd, player, socket);\n        }\n        this.eventEngine.onEventMove(player, socket);\n    };\n    return GameEngine;\n}(Engine_1.Engine));\nexports.GameEngine = GameEngine;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Engine_1 = require(\"../Engine\");\nvar InventoryEngine = (function (_super) {\n    __extends(InventoryEngine, _super);\n    function InventoryEngine() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    InventoryEngine.prototype.action = function (cmd, player, socket) {\n    };\n    return InventoryEngine;\n}(Engine_1.Engine));\nexports.InventoryEngine = InventoryEngine;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Engine_1 = require(\"../Engine\");\nvar Command_1 = require(\"../../defaults/Command\");\nvar MapManager_1 = require(\"../../map/MapManager\");\nvar CharacterTypes_1 = require(\"../../defaults/CharacterTypes\");\nvar MapEngine = (function (_super) {\n    __extends(MapEngine, _super);\n    function MapEngine() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    MapEngine.prototype.action = function (cmd, player, socket) {\n        var mapSwitch = this.globalBoundsCheck(cmd, player, socket);\n        switch (cmd) {\n            case Command_1.Command.W:\n                player.location.local.decremementY();\n                break;\n            case Command_1.Command.A:\n                player.location.local.decremementX();\n                break;\n            case Command_1.Command.S:\n                player.location.local.incrementY();\n                break;\n            case Command_1.Command.D:\n                player.location.local.incrementX();\n                break;\n        }\n        mapSwitch ?\n            this.movePlayerGlobally(player, socket) :\n            this.movePlayerLocally(player, socket);\n        this.roomMovement(player, socket);\n    };\n    MapEngine.prototype.globalBoundsCheck = function (cmd, player, socket) {\n        var playerLocalX = player.location.local.x;\n        var playerLocalY = player.location.local.y;\n        var playerGlobalX = player.location.global.x;\n        var playerGlobalY = player.location.global.y;\n        var currentMap = MapManager_1.MapManager.maps.get(player.location.global.index);\n        var currentMapLength = player.location.local.length;\n        if (cmd === Command_1.Command.W && playerLocalY === 0) {\n            if (currentMap.bounds.north) {\n                player.location.updateLocalPosition(playerLocalX, currentMapLength);\n                player.location.updateGlobalPosition(playerGlobalX, playerGlobalY - 1);\n                return true;\n            }\n            else\n                this.outOfBounds(player, socket);\n        }\n        if (cmd === Command_1.Command.S && playerLocalY === currentMapLength - 1) {\n            if (currentMap.bounds.south) {\n                player.location.updateLocalPosition(playerLocalX, -1);\n                player.location.updateGlobalPosition(playerGlobalX, playerGlobalY + 1);\n                return true;\n            }\n            else\n                this.outOfBounds(player, socket);\n        }\n        if (cmd === Command_1.Command.D && playerLocalX === currentMapLength - 1) {\n            if (currentMap.bounds.east) {\n                player.location.updateLocalPosition(-1, playerLocalY);\n                player.location.updateGlobalPosition(playerGlobalX + 1, playerGlobalY);\n                return true;\n            }\n            else\n                this.outOfBounds(player, socket);\n        }\n        if (cmd === Command_1.Command.A && playerLocalX === 0) {\n            if (currentMap.bounds.west) {\n                player.location.updateLocalPosition(currentMapLength, playerLocalY);\n                player.location.updateGlobalPosition(playerGlobalX - 1, playerGlobalY);\n                return true;\n            }\n            else\n                this.outOfBounds(player, socket);\n        }\n        return false;\n    };\n    MapEngine.prototype.outOfBounds = function (player, socket) {\n        this._observer.notify({\n            id: player.id,\n            room: player.room,\n            flags: {\n                mapUpdate: false,\n                playerUpdate: false,\n                battleUpdate: false,\n                eventUpdate: false,\n                contextUpdate: false,\n                generalUpdate: true,\n                error: false\n            },\n            general: {\n                text: 'You can\\'t go any farther out!'\n            }\n        }, socket);\n    };\n    MapEngine.prototype.movePlayerGlobally = function (player, socket) {\n        var playerGlobalIndex = player.location.global.index;\n        var map = MapManager_1.MapManager.maps.get(playerGlobalIndex);\n        this._observer.notify({\n            id: player.id,\n            room: player.room,\n            flags: {\n                mapUpdate: true,\n                playerUpdate: true,\n                battleUpdate: false,\n                eventUpdate: false,\n                contextUpdate: false,\n                generalUpdate: true,\n                error: false\n            },\n            general: {\n                text: \"You have now entered \" + map.name\n            },\n            map: {\n                id: map.id,\n                name: map.name,\n                raw: map.raw\n            },\n            player: {\n                name: player.name,\n                context: player.meta.context,\n                flags: {\n                    inventoryUpdate: false,\n                    equippedUpdate: false,\n                    statsUpdate: false,\n                    coordsUpdate: true\n                },\n                coords: {\n                    local: player.location.local.index,\n                    global: player.location.global.index\n                }\n            }\n        }, socket);\n    };\n    MapEngine.prototype.movePlayerLocally = function (player, socket) {\n        this._observer.notify({\n            id: player.id,\n            room: player.room,\n            flags: {\n                mapUpdate: false,\n                playerUpdate: true,\n                battleUpdate: false,\n                eventUpdate: false,\n                contextUpdate: false,\n                generalUpdate: false,\n                error: false\n            },\n            player: {\n                name: player.name,\n                context: player.meta.context,\n                flags: {\n                    inventoryUpdate: false,\n                    equippedUpdate: false,\n                    statsUpdate: false,\n                    coordsUpdate: true\n                },\n                coords: {\n                    local: player.location.local.index,\n                    global: player.location.global.index\n                }\n            }\n        }, socket);\n    };\n    MapEngine.prototype.roomMovement = function (player, socket) {\n        this._observer.roomMovement({\n            room: player.room,\n            players: [{\n                    id: player.id,\n                    name: player.name,\n                    room: player.room,\n                    context: player.meta.context.toString(),\n                    type: CharacterTypes_1.CharacterTypes.PLAYER,\n                    location: {\n                        local: player.location.local.index,\n                        global: player.location.global.index\n                    }\n                }]\n        }, socket);\n    };\n    return MapEngine;\n}(Engine_1.Engine));\nexports.MapEngine = MapEngine;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Engine_1 = require(\"../Engine\");\nvar ShopEngine = (function (_super) {\n    __extends(ShopEngine, _super);\n    function ShopEngine() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ShopEngine.prototype.action = function (cmd, player, socket) {\n    };\n    return ShopEngine;\n}(Engine_1.Engine));\nexports.ShopEngine = ShopEngine;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar DialogManager_1 = require(\"../dialog/DialogManager\");\nvar PointManager_1 = require(\"../character/point/PointManager\");\nvar Event = (function () {\n    function Event(x1, y1, x2, y2) {\n        this._location = new PointManager_1.PointManager();\n        this._options = new Map();\n        this._dialog = new DialogManager_1.DialogManager();\n        this.location.local.length = 20;\n        this.location.global.length = 20;\n        this._location.updateLocalPosition(x1, y1);\n        this._location.updateGlobalPosition(x2, y2);\n    }\n    Object.defineProperty(Event.prototype, \"id\", {\n        get: function () {\n            return this._id;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Event.prototype, \"name\", {\n        get: function () {\n            return this._name;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Event.prototype, \"options\", {\n        get: function () {\n            return this._options;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Event.prototype, \"display\", {\n        get: function () {\n            return this._display;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Event.prototype, \"location\", {\n        get: function () {\n            return this._location;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Event.prototype.story = function (id, player) {\n        return this._dialog[id](player) || \"\";\n    };\n    Object.defineProperty(Event.prototype, \"endingCodes\", {\n        get: function () {\n            return this._endingCodes;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Event.prototype.isFinalStage = function (code) {\n        return this._endingCodes.includes(code);\n    };\n    return Event;\n}());\nexports.Event = Event;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Event_1 = require(\"../Event\");\nvar GirlInVillageE01 = (function (_super) {\n    __extends(GirlInVillageE01, _super);\n    function GirlInVillageE01() {\n        var _this = _super.call(this, 14, 13, 1, 0) || this;\n        _this._display = [\n            1\n        ];\n        _this._id = 1;\n        _this._name = \"Girl In Village\";\n        var s0 = new Map();\n        s0.set('help', 'e1s1');\n        s0.set('run', 'e1s6');\n        _this._options.set(\"e\" + _this._id + \"s0\", s0);\n        var s1 = new Map();\n        s1.set('fight', 'e1s2');\n        s1.set('run', 'e1s5');\n        _this._options.set(\"e\" + _this._id + \"s1\", s1);\n        var s2 = new Map();\n        s2.set('wait', 'e1s3');\n        s2.set('strike', 'e1s4');\n        _this._options.set(\"e\" + _this._id + \"s2\", s2);\n        _this._endingCodes = [\n            \"e1s4\",\n            \"e1s3\",\n            \"e1s5\",\n            \"e1s6\"\n        ];\n        return _this;\n    }\n    return GirlInVillageE01;\n}(Event_1.Event));\nexports.GirlInVillageE01 = GirlInVillageE01;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Bounds = (function () {\n    function Bounds() {\n    }\n    Object.defineProperty(Bounds.prototype, \"north\", {\n        get: function () {\n            return this._north;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Bounds.prototype, \"south\", {\n        get: function () {\n            return this._south;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Bounds.prototype, \"east\", {\n        get: function () {\n            return this._east;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Bounds.prototype, \"west\", {\n        get: function () {\n            return this._west;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Bounds.prototype, \"northMapIndex\", {\n        get: function () {\n            return this._northMapIndex;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Bounds.prototype, \"southMapIndex\", {\n        get: function () {\n            return this._southMapIndex;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Bounds.prototype, \"eastMapIndex\", {\n        get: function () {\n            return this._eastMapIndex;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Bounds.prototype, \"westMapIndex\", {\n        get: function () {\n            return this._westMapIndex;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Bounds.prototype.generate = function (x, y, index, length) {\n        this._north = y > 0;\n        this._south = y < length - 1;\n        this._west = x > 0;\n        this._east = x < length - 1;\n        this._northMapIndex = this._north ? index - length : -1;\n        this._southMapIndex = this._south ? index + length : -1;\n        this._eastMapIndex = this._east ? index + 1 : -1;\n        this._westMapIndex = this._west ? index - 1 : -1;\n    };\n    return Bounds;\n}());\nexports.Bounds = Bounds;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Bounds_1 = require(\"./Bounds\");\nvar GameMap = (function () {\n    function GameMap() {\n        this._bounds = new Bounds_1.Bounds();\n    }\n    Object.defineProperty(GameMap.prototype, \"name\", {\n        get: function () {\n            return this._name;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(GameMap.prototype, \"localLength\", {\n        get: function () {\n            return this._localLength;\n        },\n        set: function (value) {\n            this._localLength = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(GameMap.prototype, \"id\", {\n        get: function () {\n            return this._id;\n        },\n        set: function (value) {\n            this._id = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(GameMap.prototype, \"raw\", {\n        get: function () {\n            return this._raw;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(GameMap.prototype, \"coords\", {\n        get: function () {\n            return this._coords;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(GameMap.prototype, \"bounds\", {\n        get: function () {\n            return this._bounds;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    GameMap.prototype.generateBounds = function () {\n        this._bounds.generate(this.coords.x, this.coords.y, this.coords.index, this.coords.length);\n    };\n    return GameMap;\n}());\nexports.GameMap = GameMap;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Venmark_1 = require(\"./maps/Venmark\");\nvar Silvos_1 = require(\"./maps/Silvos\");\nvar Tirera_1 = require(\"./maps/Tirera\");\nvar PureParadiseMap_1 = require(\"./maps/PureParadiseMap\");\nvar Defaults_1 = require(\"../defaults/Defaults\");\nvar MapIds_1 = require(\"../defaults/MapIds\");\nvar defaults = new Defaults_1.Defaults();\nvar MapManager = {\n    maps: new Map()\n};\nexports.MapManager = MapManager;\nMapManager.maps.set(MapIds_1.MapIds.VEMARK, new Venmark_1.Venmark(defaults));\nMapManager.maps.set(MapIds_1.MapIds.SILVOS, new Silvos_1.Silvos(defaults));\nMapManager.maps.set(MapIds_1.MapIds.TIRERA, new Tirera_1.Tirera(defaults));\nMapManager.maps.set(MapIds_1.MapIds.PURE_PARADISE, new PureParadiseMap_1.PureParadiseMap(defaults));\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar GameMap_1 = require(\"../GameMap\");\nvar AreaNames_1 = require(\"../../defaults/AreaNames\");\nvar Point_1 = require(\"../../character/point/Point\");\nvar PureParadiseMap = (function (_super) {\n    __extends(PureParadiseMap, _super);\n    function PureParadiseMap(defaults) {\n        var _this = _super.call(this) || this;\n        _this._name = AreaNames_1.AreaNames.PURE_PARADISE;\n        _this._coords = new Point_1.Point();\n        _this._raw = [\n            3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,\n            3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,\n            2, 3, 3, 3, 3, 3, 3, 3, 2, 3, 3, 3, 3, 3, 3, 3, 2, 3, 3, 3,\n            3, 3, 3, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 3, 3, 3, 3, 3, 3,\n            0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 10,\n            5, 11, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 10, 5, 5,\n            5, 5, 11, 3, 3, 4, 17, 3, 3, 4, 17, 3, 3, 4, 17, 3, 10, 5, 5, 5,\n            5, 5, 5, 20, 3, 4, 3, 3, 3, 4, 3, 3, 3, 4, 3, 21, 5, 5, 5, 6,\n            6, 6, 4, 3, 3, 5, 3, 3, 3, 5, 3, 3, 3, 5, 3, 3, 4, 6, 6, 6,\n            84, 6, 4, 5, 4, 6, 4, 5, 4, 6, 4, 5, 4, 6, 4, 5, 4, 6, 84, 6,\n            6, 6, 4, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 4, 6, 6, 6,\n            6, 6, 4, 6, 6, 6, 6, 6, 5, 2, 5, 6, 6, 6, 6, 6, 4, 6, 6, 6,\n            6, 6, 4, 6, 6, 6, 6, 10, 10, 4, 11, 11, 6, 6, 6, 6, 4, 6, 6, 6,\n            6, 6, 4, 6, 6, 6, 10, 10, 10, 4, 11, 11, 11, 6, 6, 6, 4, 6, 6, 6,\n            6, 6, 4, 6, 6, 6, 4, 4, 4, 13, 4, 4, 4, 6, 6, 6, 4, 6, 6, 6,\n            6, 6, 4, 6, 6, 6, 4, 4, 4, 4, 4, 4, 4, 6, 6, 6, 4, 6, 6, 5,\n            5, 5, 4, 5, 5, 5, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 4, 5, 5, 1,\n            1, 1, 1, 1, 1, 1, 11, 3, 3, 3, 3, 3, 3, 11, 1, 1, 1, 1, 1, 1,\n            1, 1, 11, 10, 1, 1, 1, 11, 3, 3, 3, 3, 3, 3, 11, 1, 1, 0, 1, 1,\n            1, 0, 1, 1, 1, 1, 1, 1, 11, 3, 3, 3, 3, 3, 3, 11, 1, 1, 1\n        ];\n        defaults.applyMapDefaults(_this);\n        return _this;\n    }\n    return PureParadiseMap;\n}(GameMap_1.GameMap));\nexports.PureParadiseMap = PureParadiseMap;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar GameMap_1 = require(\"../GameMap\");\nvar AreaNames_1 = require(\"../../defaults/AreaNames\");\nvar Point_1 = require(\"../../character/point/Point\");\nvar Silvos = (function (_super) {\n    __extends(Silvos, _super);\n    function Silvos(defaults) {\n        var _this = _super.call(this) || this;\n        _this._name = AreaNames_1.AreaNames.SILVOS;\n        _this._coords = new Point_1.Point();\n        _this._raw = [\n            3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 3, 3, 3, 3,\n            3, 3, 0, 0, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 3, 3, 3, 3,\n            3, 0, 0, 0, 0, 3, 3, 3, 3, 0, 0, 3, 0, 0, 3, 0, 0, 3, 3, 3,\n            3, 0, 3, 0, 0, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3,\n            3, 3, 0, 0, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3,\n            3, 3, 0, 0, 0, 0, 0, 0, 3, 0, 0, 3, 0, 0, 3, 0, 0, 3, 3, 3,\n            3, 3, 3, 0, 0, 3, 0, 0, 0, 0, 3, 3, 3, 3, 0, 0, 0, 0, 3, 3,\n            3, 3, 3, 3, 0, 0, 3, 0, 0, 3, 3, 3, 3, 0, 0, 3, 0, 0, 3, 3,\n            3, 3, 3, 0, 0, 0, 0, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 3, 3, 3,\n            3, 0, 0, 3, 0, 0, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 3, 3, 3, 3,\n            0, 0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 0, 3, 0, 0, 3, 3, 3, 3, 3,\n            0, 0, 0, 0, 0, 0, 0, 3, 3, 3, 0, 0, 0, 0, 3, 3, 3, 3, 3, 3,\n            3, 0, 0, 3, 0, 0, 3, 3, 3, 3, 0, 0, 0, 3, 0, 0, 3, 3, 3, 3,\n            3, 3, 3, 0, 0, 3, 3, 3, 3, 3, 3, 0, 0, 0, 13, 0, 3, 0, 0, 3,\n            3, 3, 0, 0, 0, 0, 3, 3, 3, 3, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0,\n            3, 3, 0, 0, 0, 0, 3, 3, 3, 0, 0, 0, 0, 3, 0, 0, 0, 0, 0, 0,\n            3, 3, 3, 0, 0, 3, 0, 0, 3, 0, 0, 3, 0, 3, 3, 3, 3, 0, 0, 3,\n            3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 3, 3, 3, 3,\n            3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 3, 3, 3, 3,\n            3, 3, 3, 0, 0, 3, 0, 0, 3, 0, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3\n        ];\n        defaults.applyMapDefaults(_this);\n        return _this;\n    }\n    return Silvos;\n}(GameMap_1.GameMap));\nexports.Silvos = Silvos;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar GameMap_1 = require(\"../GameMap\");\nvar AreaNames_1 = require(\"../../defaults/AreaNames\");\nvar Point_1 = require(\"../../character/point/Point\");\nvar Tirera = (function (_super) {\n    __extends(Tirera, _super);\n    function Tirera(defaults) {\n        var _this = _super.call(this) || this;\n        _this._name = AreaNames_1.AreaNames.TIRERA;\n        _this._coords = new Point_1.Point();\n        _this._raw = [\n            3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 0, 3, 3, 3, 3,\n            3, 3, 0, 0, 3, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 3, 3, 3, 3,\n            3, 0, 0, 0, 0, 3, 3, 3, 3, 0, 0, 3, 0, 0, 3, 0, 0, 3, 3, 3,\n            3, 0, 3, 0, 0, 3, 3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3,\n            3, 3, 0, 0, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3,\n            3, 3, 0, 0, 0, 0, 0, 0, 3, 0, 0, 3, 0, 0, 3, 0, 0, 3, 3, 3,\n            3, 3, 3, 0, 0, 3, 0, 0, 0, 0, 3, 3, 3, 3, 0, 0, 0, 0, 3, 3,\n            3, 3, 3, 3, 0, 0, 3, 0, 0, 3, 3, 3, 3, 0, 0, 3, 0, 0, 3, 3,\n            3, 3, 3, 0, 0, 0, 0, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 3, 3, 3,\n            3, 0, 0, 3, 0, 0, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 3, 3, 3, 3,\n            0, 0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 0, 3, 0, 0, 3, 3, 3, 3, 3,\n            0, 0, 0, 0, 0, 0, 0, 3, 3, 3, 0, 0, 0, 0, 3, 3, 3, 3, 3, 3,\n            3, 0, 0, 3, 0, 0, 3, 3, 3, 3, 0, 0, 0, 3, 0, 0, 3, 3, 3, 3,\n            3, 3, 3, 0, 0, 3, 3, 3, 3, 3, 3, 0, 0, 0, 0, 0, 3, 0, 0, 3,\n            3, 3, 0, 0, 0, 0, 3, 3, 3, 3, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0,\n            3, 3, 0, 0, 0, 0, 3, 3, 3, 0, 0, 0, 0, 3, 0, 0, 0, 0, 0, 0,\n            3, 3, 3, 0, 0, 3, 0, 0, 3, 0, 0, 3, 0, 3, 3, 3, 3, 0, 0, 3,\n            3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 3, 3, 3, 3,\n            3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 3, 3, 3, 3, 3, 3, 3,\n            3, 3, 3, 0, 0, 3, 0, 0, 3, 0, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3\n        ];\n        defaults.applyMapDefaults(_this);\n        return _this;\n    }\n    return Tirera;\n}(GameMap_1.GameMap));\nexports.Tirera = Tirera;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar GameMap_1 = require(\"../GameMap\");\nvar AreaNames_1 = require(\"../../defaults/AreaNames\");\nvar Point_1 = require(\"../../character/point/Point\");\nvar Venmark = (function (_super) {\n    __extends(Venmark, _super);\n    function Venmark(defaults) {\n        var _this = _super.call(this) || this;\n        _this._name = AreaNames_1.AreaNames.VENMARK;\n        _this._coords = new Point_1.Point();\n        _this._raw = [\n            2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,\n            2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,\n            2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 3, 3, 3,\n            2, 2, 2, 2, 3, 3, 5, 5, 5, 5, 5, 3, 3, 2, 2, 2, 2, 2, 3, 3,\n            2, 2, 3, 3, 3, 10, 9, 9, 9, 9, 9, 11, 3, 2, 2, 2, 2, 2, 3, 3,\n            2, 2, 3, 3, 10, 9, 76, 84, 84, 73, 88, 9, 11, 2, 2, 2, 2, 2, 3, 3,\n            3, 3, 3, 3, 5, 5, 5, 5, 5, 5, 5, 5, 5, 2, 2, 2, 2, 2, 3, 3,\n            3, 3, 3, 3, 4, 1, 1, 5, 5, 5, 1, 1, 4, 3, 2, 2, 2, 3, 3, 3,\n            3, 3, 3, 3, 4, 7, 8, 4, 0, 4, 7, 8, 4, 3, 3, 3, 3, 3, 3, 3,\n            3, 3, 3, 3, 4, 1, 1, 4, 13, 4, 1, 1, 4, 3, 3, 3, 3, 3, 3, 3,\n            3, 3, 3, 3, 4, 5, 5, 4, 5, 4, 5, 5, 4, 3, 3, 3, 3, 3, 3, 3,\n            3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,\n            3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,\n            3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 3, 3, 3, 3, 3,\n            3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 3, 3, 3, 3,\n            3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 3, 3, 3, 3,\n            3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 3, 3, 3, 3,\n            3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 2, 3, 3, 3, 3,\n            3, 3, 3, 2, 2, 2, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 3, 3, 3, 3,\n            3, 3, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 2, 2, 2, 2, 3, 3, 3, 3\n        ];\n        defaults.applyMapDefaults(_this);\n        return _this;\n    }\n    return Venmark;\n}(GameMap_1.GameMap));\nexports.Venmark = Venmark;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RequestManager_1 = require(\"./managers/RequestManager\");\nvar requestManager = new RequestManager_1.RequestManager();\nvar PureParadise = (function () {\n    function PureParadise() {\n    }\n    PureParadise.prototype.connect = function (socket) {\n        var id = socket.id;\n        var room = requestManager.roomManager.assignRoom(id);\n        requestManager.playerManager.add(id, room);\n        socket.join(room);\n        socket.on('client:start', function (cmd) { return requestManager.clientStart(cmd, room, socket); });\n        socket.on('client:command', function (cmd) { return requestManager.gameRun(cmd, socket); });\n        socket.on('room:chat', function (cmd) { return requestManager.chat(cmd, socket); });\n        socket.on('disconnect', function (cmd) { return requestManager.playerLeftRoom(cmd, socket); });\n    };\n    return PureParadise;\n}());\nexports.PureParadise = PureParadise;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Player_1 = require(\"../../app/character/concrete/Player\");\nvar Defaults_1 = require(\"../../app/defaults/Defaults\");\nvar CharacterTypes_1 = require(\"../../app/defaults/CharacterTypes\");\nvar PlayerManager = (function () {\n    function PlayerManager() {\n        this.defaults = new Defaults_1.Defaults();\n        this.players = new Map();\n    }\n    PlayerManager.prototype.add = function (id, room) {\n        this.players.set(id, new Player_1.Player(id, room, this.defaults));\n    };\n    PlayerManager.prototype.get = function (id) {\n        return this.players.get(id);\n    };\n    PlayerManager.prototype.remove = function (id) {\n        this.players.delete(id);\n    };\n    PlayerManager.prototype.has = function (id) {\n        return this.players.has(id);\n    };\n    PlayerManager.prototype.size = function (room) {\n        var size = 0;\n        this.players.forEach(function (player) {\n            size += player.room === room ? 1 : 0;\n        });\n        return size;\n    };\n    PlayerManager.prototype.getAllPlayerUpdates = function (id, room) {\n        var _this = this;\n        return Array.from(this.players)\n            .filter(function (args) {\n            return (args[1].id !== id &&\n                args[1].name &&\n                args[1].room === room);\n        })\n            .map(function (args) {\n            var player = args[1];\n            return _this.getPlayerUpdate(player);\n        });\n    };\n    PlayerManager.prototype.getPlayerUpdate = function (player) {\n        return {\n            id: player.id,\n            name: player.name,\n            room: player.room,\n            context: player.meta.context.toString(),\n            type: CharacterTypes_1.CharacterTypes.PLAYER,\n            location: {\n                local: player.location.local.index,\n                global: player.location.global.index\n            }\n        };\n    };\n    return PlayerManager;\n}());\nexports.PlayerManager = PlayerManager;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RoomNames_1 = require(\"../../app/defaults/RoomNames\");\nvar Context_1 = require(\"../../app/defaults/Context\");\nvar PlayerManager_1 = require(\"./PlayerManager\");\nvar Observer_1 = require(\"../observer/Observer\");\nvar GameEngine_1 = require(\"../../app/engine/concrete/GameEngine\");\nvar RoomManager_1 = require(\"./RoomManager\");\nvar RequestManager = (function () {\n    function RequestManager() {\n        this._playerManager = new PlayerManager_1.PlayerManager();\n        this._roomManager = new RoomManager_1.RoomManager();\n        this._observer = new Observer_1.Observer();\n        this._gameEngine = new GameEngine_1.GameEngine(this._observer);\n    }\n    Object.defineProperty(RequestManager.prototype, \"observer\", {\n        get: function () {\n            return this._observer;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RequestManager.prototype, \"gameEngine\", {\n        get: function () {\n            return this._gameEngine;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RequestManager.prototype, \"playerManager\", {\n        get: function () {\n            return this._playerManager;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(RequestManager.prototype, \"roomManager\", {\n        get: function () {\n            return this._roomManager;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    RequestManager.prototype.clientStart = function (cmd, room, socket) {\n        if (room != RoomNames_1.RoomNames.FULL) {\n            var player = this._playerManager.get(socket.id);\n            this._observer.clientStart({\n                room: room,\n                count: this._playerManager.size(room),\n                players: this._playerManager.getAllPlayerUpdates(player.id, room)\n            }, socket);\n            this._gameEngine.run(cmd, player, socket);\n            this.playerJoinedRoom(player.id, socket);\n        }\n        else\n            this.fullRoom(socket.id, socket);\n    };\n    RequestManager.prototype.gameRun = function (cmd, socket) {\n        var player = this._playerManager.get(socket.id);\n        player.room != RoomNames_1.RoomNames.FULL ?\n            this._gameEngine.run(cmd, player, socket) :\n            this.fullRoom(player.id, socket);\n    };\n    RequestManager.prototype.playerJoinedRoom = function (id, socket) {\n        var player = this._playerManager.get(socket.id);\n        var message = player.name + \" has joined the quest!\";\n        this._observer.playerJoinedRoom({\n            room: player.room,\n            count: this._playerManager.size(player.room),\n            message: message,\n            players: [this._playerManager.getPlayerUpdate(player)]\n        }, socket);\n    };\n    RequestManager.prototype.playerLeftRoom = function (cmd, socket) {\n        var player = this._playerManager.get(socket.id) || false;\n        if (player) {\n            if (player.meta.context != Context_1.Context.START) {\n                var message = player.name + \" has abandoned the quest!\";\n                this._observer.playerLeftRoom({\n                    room: player.room,\n                    count: this._playerManager.size(player.room) - 1,\n                    message: message,\n                    players: [this._playerManager.getPlayerUpdate(player)]\n                }, socket);\n            }\n            this._roomManager.unassignedRoom(socket.id, player.room);\n            this._playerManager.remove(socket.id);\n        }\n    };\n    RequestManager.prototype.chat = function (cmd, socket) {\n        var player = this._playerManager.get(socket.id);\n        this._observer.chat({\n            room: player.room,\n            count: this._playerManager.size(player.room),\n            message: player.name + \": \" + cmd\n        }, socket);\n    };\n    RequestManager.prototype.fullRoom = function (id, socket) {\n        this._observer.roomFull({\n            id: id,\n            type: 0,\n            message: 'Unfortunately, all the game rooms are currently full. Please refresh and try again later.'\n        }, socket);\n    };\n    return RequestManager;\n}());\nexports.RequestManager = RequestManager;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RoomNames_1 = require(\"../../app/defaults/RoomNames\");\nvar RoomManager = (function () {\n    function RoomManager() {\n        this._roomLimit = 10;\n        this.rooms = new Map();\n        for (var room in RoomNames_1.RoomNames) {\n            this.rooms.set(room, new Array());\n        }\n    }\n    Object.defineProperty(RoomManager.prototype, \"roomLimit\", {\n        get: function () {\n            return this._roomLimit;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    RoomManager.prototype.assignRoom = function (id) {\n        var _this = this;\n        var roomAssigned = false;\n        var roomName = RoomNames_1.RoomNames.FULL;\n        this.rooms.forEach(function (room, key) {\n            if (!roomAssigned) {\n                if (room.length < _this._roomLimit && key != RoomNames_1.RoomNames.FULL) {\n                    room.push(id);\n                    roomAssigned = true;\n                    roomName = key;\n                }\n            }\n        });\n        return roomName;\n    };\n    RoomManager.prototype.unassignedRoom = function (id, roomName) {\n        this.rooms.set(roomName, this.rooms.get(roomName).filter(function (pid) { return pid != id; }));\n    };\n    RoomManager.prototype.roomCount = function (name) {\n        return this.rooms.get(name).length;\n    };\n    return RoomManager;\n}());\nexports.RoomManager = RoomManager;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Observer = (function () {\n    function Observer() {\n    }\n    Observer.prototype.global = function (obj, socket) {\n        socket.broadcast.emit(JSON.stringify(obj));\n    };\n    Observer.prototype.clientStart = function (obj, socket) {\n        socket.emit('client:start', obj);\n    };\n    Observer.prototype.notify = function (obj, socket) {\n        socket.emit('client:command', obj);\n    };\n    Observer.prototype.playerJoinedRoom = function (obj, socket) {\n        socket.to(obj.room).emit('room:joined', obj);\n    };\n    Observer.prototype.playerLeftRoom = function (obj, socket) {\n        socket.to(obj.room).emit('room:left', obj);\n    };\n    Observer.prototype.roomMovement = function (obj, socket) {\n        socket.to(obj.room).emit('room:movement', obj);\n    };\n    Observer.prototype.chat = function (obj, socket) {\n        socket.to(obj.room).emit('room:chat', obj);\n    };\n    Observer.prototype.monsterSpawned = function (obj, socket) {\n        socket.to(obj.room).emit('room:monster:spawned', obj);\n    };\n    Observer.prototype.monsterDefeated = function (obj, socket) {\n        socket.to(obj.room).emit('room:monster:defeated', obj);\n    };\n    Observer.prototype.monsterEngaged = function (obj, socket) {\n        socket.to(obj.room).emit('room:monster:engaged', obj);\n    };\n    Observer.prototype.roomFull = function (obj, socket) {\n        socket.emit('error:full', obj);\n    };\n    Observer.prototype.invalidCommand = function (obj, socket) {\n        socket.emit('error:invalid', obj);\n    };\n    return Observer;\n}());\nexports.Observer = Observer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar PureParadise_1 = require(\"./PureParadise\");\nvar express = require('express');\nvar app = express();\nvar http = require('http').createServer(app);\nvar port = process.env.PORT || 3000;\nvar io = require('socket.io')(http, {\n    pingTimeout: 60000,\n    pingInterval: 60000\n});\nvar pureParadise = new PureParadise_1.PureParadise();\nvar routers = [\n    pureParadise\n];\nio.on('connect', function (socket) {\n    routers.forEach(function (obj) {\n        if (obj['connect'] != undefined)\n            obj.connect(socket);\n    });\n});\nhttp.listen(port, function () {\n    console.log(\"Listening on port \" + port + \"!\");\n});\n","module.exports = require(\"express\");","module.exports = require(\"http\");","module.exports = require(\"socket.io\");"],"sourceRoot":""}